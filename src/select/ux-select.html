<template role="listbox" class="${!nativeMode ? 'custom-select' : ''}">
    <require from="./ux-select-theme"></require>
    <require from="./ux-option"></require>
    <require from="./select-from"></require>

    <select styles.select 
            show.bind="nativeMode"
            ref="selectElement"
            value.two-way="innerValue & selectFrom:innerValue:valueProperty"
            matcher.bind="matcher"
            class="${disabled ? 'disabled' : ''}">

        <option styles.option
                repeat.for="option of innerOptions"
                model.bind="option & selectFrom:option:valueProperty">

            ${option & selectFrom:option:textProperty}
        </option>
    </select>

    <div if.bind="!nativeMode"
         class="custom-select__current-item"
         focus.trigger="open()"
         blur.trigger="close()">

        <input ref="inputElement"
               type="text"
               class="custom-select__input"
               value.bind="innerValue & selectFrom:innerValue:textProperty"
               readonly>

        <div class="custom-select__caret">
            <div class="caret"></div>
        </div>
    </div>

    <ul if.bind="!nativeMode"
        ref="ulElement"
        matcher.bind="matcher"
        class="custom-select__items ${collapsed ? 'custom-select__items--collapsed' : ''}">

        <template repeat.for="option of innerOptions">
            <ux-option  html.bind="itemTemplateHTML"
                        native-mode.bind="nativeMode"
                        click.trigger="select(option)">
            </ux-option>
        </template>
    </ul>

    <div ref="itemTemplate" show.bind=false>
        <slot>
            <li class="custom-select__item">
                \${option & selectFrom:option:textProperty}
            </li>
        </slot>
    </div>
</template>